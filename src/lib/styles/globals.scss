@import './typography';
@import './variables';
@import './colors';

* {
    box-sizing: border-box;
}

html {
    // scroll-behavior: smooth;
    scroll-padding: 6.5rem;
    color-scheme: dark;
}

html,
body {
    overflow-x: hidden;
    overflow-x: -moz-hidden-unscrollable;
    overflow-x: clip;
}

@media (prefers-reduced-motion) {
    html {
        scroll-behavior: unset;
    }

    * {
        transition: unset;
    }
}

.visually-hidden {
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

body {
    margin: 0;
    min-height: 100vh;
    background: var(--bg);
}

.full-bleed,
.table-wrapper,
figure,
[class*="npArticle"] {
    grid-column: 1/-1 !important;
}

.anchorjs-link {
    border: none;
    position: absolute;
}

h2>.anchorjs-link {
    font-size: 1.5em !important;
}

h3>.anchorjs-link {
    font-size: 1.35em !important;
}

.img-and-name {
    display: grid;
    grid-template-columns: 1fr;
    place-items: center;

    h2,
    h3 {
        grid-column: span 2;
        margin: 0;
        font-size: var(--step-0);
        text-transform: unset;
        text-align: center;
    }

    h3 {
        line-height: 1.4;
    }
}

.smart-servant-skill {
    height: 100px;
    width: 100px;
}

.details-large {
    background: hsla(220, 15%, 17%, 0.9);
    box-shadow: 0 2px 4px var(--surface-shadow);

    &>* {
        padding: 0.5rem 1rem;
    }

    summary:hover {
        background: var(--surface3);
    }

    &[open] summary {
        color: var(--accent);
    }

    &:last-of-type {
        margin-bottom: 0.5rem;
    }

}

.grid {
    display: grid;
}

.flex {
    display: flex;
}

.flex-wrap {
    flex-wrap: wrap;
}

.g-50 {
    gap: 0.5rem;
}

.g-25 {
    gap: 0.25rem;
}

.g-100 {
    gap: 1rem;
}

*:focus-visible {
    outline: 2px solid var(--accent);
}

.align-items-center {
    align-items: center;
}

input,
select {
    background: var(--surface1);
    border: none;
    font: inherit;
    color: inherit;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
}

select:focus {
    outline: 2px solid var(--accent);
}

select:hover {
    color: var(--accent);
}

option {
    color: var(--text1);
}

button {
    background: var(--surface1);
    border: none;
    color: inherit;
    cursor: pointer;
    font: inherit;
}

.box {
    background: var(--surface1);
    padding: 1rem;
    border-radius: 0.5rem;
}

.mode-selector-link {
    .spinner {
        transition: all 0.2s ease;
    }

    &:where(:hover, :focus-visible) .spinner,
    .spinner:hover {
        transform: rotate(120deg); // 120 or 180deg
    }

    &:active .spinner {
        transform: rotate(25deg); // optional
    }
}


// Used with <AnchorLinks />
article {
    display: grid;
    column-gap: 2rem;
    grid-template-columns: 1fr 30ch;

    .article-content {
        grid-column: 1/2;
        container-type: inline-size;
        container-name: article-content;
    }

    // Full-sized gutter track
    aside {
        grid-column: 2/3;
        grid-row: 1/2;
    }

    // Sticky box inside the track
    aside .sticky {
        position: sticky;
        top: 120px;
    }

    .section-title {
        font-size: var(--step--2);
        margin: 0;
        color: var(--text2);
        line-height: 1;
        font-weight: 400;
    }
}

@media (max-width: 860px) {
    article {
        grid-template-columns: 1fr;

        aside {
            grid-column: 1/2;
            grid-row: 1/2;
            position: sticky;
            top: 52px;
            z-index: 4;
            background: var(--bg);
            border-bottom: 1px solid var(--surface1);
            padding: 0.5rem;
            margin-inline: -1rem;
            margin-bottom: 1rem;
            margin-top: -1rem;
        }

        .aside-extras {
            display: none;
        }
    }

    :global(.main-content) {
        padding-top: 0 !important;
    }
}

hr {
    border: none;
    height: 1px;
    background-color: var(--surface1);
}

.rangeSlider {
    margin-block: 1.25rem 4rem !important;

    --range-slider: var(--surface2);

    // --range-handle-inactive: var(--text2);
    --range-handle: var(--accent);
    --range-handle-focus: var(--accent);
    --range-handle-border: var(--accent);

    // --range-range-inactive: var(--text2);
    // --range-range: var(--accent);

    --range-float-inactive: var(--accent);
    --range-float: var(--accent);
    --range-float-text: hsl(220, 0%, 89%);
}

:root {
    --range-pip: hsl(240, 10%, 25%, 0.7);
    --range-pip-text: var(--text2);
    --range-pip-active: var(--text2);
    --range-pip-active-text: var(--text2);
    --range-pip-hover: var(--accent);
    --range-pip-hover-text: var(--accent);
    --range-pip-in-range: var(--text2);
    --range-pip-in-range-text: var(--text2);
}

.adjusted {
    --range-handle-inactive: var(--accent);

    --range-pip-active: var(--accent);
    // --range-pip-active-text: var(--accent);
    --range-pip-in-range: var(--accent);
    // --range-pip-in-range-text: var(--accent);
}


input.style-next-label {
    &:checked + label {
        background: var(--surface2);
        border-color: var(--accent);
    }

    &:focus-visible + label {
        outline: 2px solid var(--accent);
        background: var(--surface2);
    }

    & + label {
        cursor: pointer;
    }

    & + label:hover {
        background: var(--surface2);
    }
}